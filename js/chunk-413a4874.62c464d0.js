(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-413a4874"],{"0b42":function(t,e,n){var c=n("da84"),o=n("e8b5"),a=n("68ee"),r=n("861d"),i=n("b622"),u=i("species"),s=c.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,a(e)&&(e===s||o(e.prototype))?e=void 0:r(e)&&(e=e[u],null===e&&(e=void 0))),void 0===e?s:e}},"1dde":function(t,e,n){var c=n("d039"),o=n("b622"),a=n("2d00"),r=o("species");t.exports=function(t){return a>=51||!c((function(){var e=[],n=e.constructor={};return n[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var c=n("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},8418:function(t,e,n){"use strict";var c=n("a04b"),o=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var r=c(e);r in t?o.f(t,r,a(0,n)):t[r]=n}},"99af":function(t,e,n){"use strict";var c=n("23e7"),o=n("da84"),a=n("d039"),r=n("e8b5"),i=n("861d"),u=n("7b0b"),s=n("07fa"),l=n("8418"),d=n("65f0"),b=n("1dde"),f=n("b622"),p=n("2d00"),g=f("isConcatSpreadable"),h=9007199254740991,j="Maximum allowed index exceeded",O=o.TypeError,v=p>=51||!a((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=b("concat"),y=function(t){if(!i(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},x=!v||!m;c({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,c,o,a,r=u(this),i=d(r,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?r:arguments[e],y(a)){if(o=s(a),b+o>h)throw O(j);for(n=0;n<o;n++,b++)n in a&&l(i,b,a[n])}else{if(b>=h)throw O(j);l(i,b++,a)}return i.length=b,i}})},e8b5:function(t,e,n){var c=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}},fcf2:function(t,e,n){"use strict";n.r(e);n("99af");var c=n("7a23"),o=Object(c["g"])("div",{class:""},"這是購物車",-1),a={class:"table align-middle"},r=Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Object(c["g"])("th"),Object(c["g"])("th",null,"品名"),Object(c["g"])("th",{style:{width:"150px"}},"數量/單位"),Object(c["g"])("th",null,"單價")])],-1),i=["onClick"],u={class:"fas fa-spinner fa-pulse"},s=Object(c["i"])(" x "),l={class:"input-group input-group-sm"},d={class:"input-group mb-3"},b=["onUpdate:modelValue","onChange","disabled"],f=["value"],p={class:"input-group-text",id:"basic-addon2"},g={class:"text-end"},h=Object(c["g"])("td",{colspan:"3",class:"text-end"},"總計",-1),j={class:"text-end"},O={class:"text-end"},v=Object(c["g"])("button",{class:"btn btn-outline-primary me-2",type:"button"},"去買單",-1);function m(t,e,n,m,y,x){var C=Object(c["F"])("router-link");return Object(c["y"])(),Object(c["f"])(c["a"],null,[o,Object(c["g"])("table",a,[r,Object(c["g"])("tbody",null,[y.cartData.carts?(Object(c["y"])(!0),Object(c["f"])(c["a"],{key:0},Object(c["E"])(y.cartData.carts,(function(t){return Object(c["y"])(),Object(c["f"])("tr",{key:t.id},[Object(c["g"])("td",null,[Object(c["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return x.removeCartItem(t.id)}},[Object(c["T"])(Object(c["g"])("i",u,null,512),[[c["O"],y.isLoadingItem===t.id]]),s],8,i)]),Object(c["g"])("td",null,Object(c["I"])(t.product.title),1),Object(c["g"])("td",null,[Object(c["g"])("div",l,[Object(c["g"])("div",d,[Object(c["T"])(Object(c["g"])("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return x.updateCartItem(t)},disabled:y.isLoadingItem===t.id},[(Object(c["y"])(),Object(c["f"])(c["a"],null,Object(c["E"])(30,(function(e){return Object(c["g"])("option",{value:e,key:"".concat(e,"-").concat(t.id)},Object(c["I"])(e),9,f)})),64))],40,b),[[c["M"],t.qty]]),Object(c["g"])("span",p,Object(c["I"])(t.product.unit),1)])])]),Object(c["g"])("td",g,Object(c["I"])(t.total),1)])})),128)):Object(c["e"])("",!0)]),Object(c["g"])("tfoot",null,[Object(c["g"])("tr",null,[h,Object(c["g"])("td",j,Object(c["I"])(y.cartData.total),1)])])]),Object(c["g"])("div",O,[Object(c["g"])("button",{class:"btn btn-outline-danger me-2",type:"button",onClick:e[0]||(e[0]=function(){return x.removeCartAll&&x.removeCartAll.apply(x,arguments)})}," 清空購物車 "),Object(c["j"])(C,{to:"/checkout"},{default:Object(c["S"])((function(){return[v]})),_:1})])],64)}var y={data:function(){return{cartData:{},isLoadingItem:""}},methods:{removeCartAll:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("attic-bread","/carts");this.$http.delete(e).then((function(e){console.log(e),t.getCart()})).catch((function(t){console.log(t)}))},removeCartItem:function(t){var e=this,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("attic-bread","/cart/").concat(t);this.isLoadingItem=t,this.$http.delete(n).then((function(t){console.log(t),e.getCart(),e.isLoadingItem=""})).catch((function(t){console.log(t)}))},updateCartItem:function(t){var e=this,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("attic-bread","/cart/").concat(t.id),c={data:{product_id:t.id,qty:t.qty}};this.isLoadingItem=t.id,this.$http.put(n,c).then((function(t){console.log(t),e.getCart(),e.isLoadingItem=""})).catch((function(t){console.log(t)}))},getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("attic-bread","/cart");this.$http.get(e).then((function(e){t.cartData=e.data.data})).catch((function(t){console.log(t)}))}},mounted:function(){this.getCart()}},x=n("6b0d"),C=n.n(x);const I=C()(y,[["render",m]]);e["default"]=I}}]);
//# sourceMappingURL=chunk-413a4874.62c464d0.js.map